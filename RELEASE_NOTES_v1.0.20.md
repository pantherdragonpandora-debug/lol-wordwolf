# リリースノート v1.0.20

## 📅 リリース日
**2026-02-15**

## 🎯 概要
人数表記の統一とソロプレイモードのUI改善を実施しました。ソロプレイモードがホーム画面から直接選択できるようになり、より使いやすくなりました。

## ✨ 改善

### 修正 #1: 人数表記の統一
**問題**:
- README: 「3〜8人対応」
- 実際のコード: 10人対応

**修正**:
```markdown
Before: 3〜8人対応
After:  3〜10人対応
```

**変更箇所**:
- `README.md` の特徴説明

### 修正 #2: ソロプレイモードの選択位置変更
**Before (v1.0.19)**:
```
ゲームタイプ選択 → ルーム作成画面
└─ ルーム作成フォーム内にチェックボックス
   [ ] ソロプレイモード（配信者向け）
```

**After (v1.0.20)**:
```
ゲームタイプ選択 → ホーム画面
├─ ルームを作成
├─ ルームに参加
├─ ルール説明
└─ 🎭 ソロプレイ（配信者向け） ← 新規ボタン
```

**メリット**:
- ✅ より目立つ位置に配置
- ✅ ワンクリックで開始可能
- ✅ ルーム作成フォームがシンプルに
- ✅ 配信者にとって分かりやすい

## 🔧 実装詳細

### HTML変更
**ホーム画面にボタン追加**:
```html
<button id="solo-play-btn" class="btn-secondary btn-full-width" 
        style="display:none; background: linear-gradient(135deg, #c89b3c 0%, #a67c2b 100%);">
    <span data-i18n="home.soloPlay">🎭 ソロプレイ（配信者向け）</span>
</button>
```

**ルーム作成画面から削除**:
```html
<!-- 削除：ソロプレイチェックボックス -->
```

### JavaScript変更
**表示制御**:
```javascript
// デマーシアモード時のみソロプレイボタン表示
if (selectedGameMode === 'demacia') {
  soloPlayBtn.style.display = 'block';
} else {
  soloPlayBtn.style.display = 'none';
}
```

**イベントリスナー追加**:
```javascript
document.getElementById('solo-play-btn')?.addEventListener('click', () => {
  console.log('🎭 ソロプレイモード開始');
  startDemaciaSoloPlay();
});
```

**ルーム作成時のチェック削除**:
```javascript
// 削除：ソロプレイモードチェック
// const isSoloMode = document.getElementById('solo-play-mode')?.checked || false;
```

### 多言語対応
**日本語**:
```javascript
'home.soloPlay': '🎭 ソロプレイ（配信者向け）'
```

**英語**:
```javascript
'home.soloPlay': '🎭 Solo Play (for Streamers)'
```

**韓国語**:
```javascript
'home.soloPlay': '🎭 솔로 플레이 (스트리머용)'
```

**中国語**:
```javascript
'home.soloPlay': '🎭 单人模式（主播专用）'
```

## 📦 変更されたファイル

### HTML
- `index.html` (+4行, -10行)
  - ホーム画面にソロプレイボタン追加
  - ルーム作成画面からチェックボックス削除

### JavaScript
- `js/main.js` (+15行, -15行)
  - ソロプレイボタン表示制御
  - イベントリスナー追加
  - ルーム作成時のチェック削除
  
- `js/i18n.js` (+4行)
  - 4言語の翻訳追加

### ドキュメント
- `README.md` (+1行, -1行)
  - 人数表記を「3〜10人」に統一
  
- `js/version.js` (+1行, -1行)
  - バージョン番号更新: 1.0.19 → 1.0.20

## 🧪 テスト手順

### 1. ホーム画面の表示テスト
```
デマーシアモード:
1. ゲームモード選択で「デマーシアに心を込めて」
2. ゲームタイプでLOLまたはVALORANT選択
3. ホーム画面を確認
4. ✅ 「🎭 ソロプレイ（配信者向け）」ボタンが表示される

ワードウルフモード:
1. ゲームモード選択で「ワードウルフ」
2. ゲームタイプを選択
3. ホーム画面を確認
4. ✅ ソロプレイボタンが表示されない
```

### 2. ソロプレイ開始テスト
```
1. デマーシア → LOL → ホーム画面
2. 「🎭 ソロプレイ（配信者向け）」をクリック
3. ✅ 即座にソロプレイモードが開始される
4. ✅ セリフ表示画面が表示される
```

### 3. ルーム作成画面のテスト
```
1. デマーシア → LOL → ホーム画面
2. 「ルームを作成」をクリック
3. ✅ ソロプレイチェックボックスが表示されない
4. ✅ フォームがシンプルになっている
```

### 4. 多言語テスト
```
日本語: 🎭 ソロプレイ（配信者向け）
English: 🎭 Solo Play (for Streamers)
한국어: 🎭 솔로 플레이 (스트리머용)
中文: 🎭 单人模式（主播专用）
```

## 📊 Before / After 比較

### ソロプレイ開始フロー
| Before (v1.0.19) | After (v1.0.20) |
|------------------|-----------------|
| 5クリック | **2クリック** |
| ルーム作成フォーム入力必須 | **即座に開始** |
| チェックボックスが目立たない | **専用ボタンで明確** |

**Before**:
```
1. ゲームタイプ選択
2. ホーム画面で「ルームを作成」
3. プレイヤー名入力
4. ソロプレイにチェック
5. 「ルーム作成」
```

**After**:
```
1. ゲームタイプ選択
2. ホーム画面で「ソロプレイ」
   → 即開始！
```

### UI配置
```
Before (v1.0.19):
┌─────────────────────┐
│ ホーム画面          │
├─────────────────────┤
│ ルームを作成        │
│ ルームに参加        │
│ ルール説明          │
└─────────────────────┘
    ↓ クリック
┌─────────────────────┐
│ ルーム作成          │
├─────────────────────┤
│ [ ] ソロプレイ      │ ← 埋もれている
│ ルーム作成ボタン    │
└─────────────────────┘

After (v1.0.20):
┌─────────────────────┐
│ ホーム画面          │
├─────────────────────┤
│ ルームを作成        │
│ ルームに参加        │
│ ルール説明          │
│ 🎭 ソロプレイ       │ ← 目立つ位置
└─────────────────────┘
```

## 🎯 ユースケース

### 配信者向けソロプレイ
```
配信者の操作:
1. OBS/配信ソフト起動
2. ゲーム画面を表示
3. デマーシア → LOL/VALORANT選択
4. 「🎭 ソロプレイ」をクリック
   → 即座に開始！
5. セリフを表示（視聴者に見せる）
6. シチュエーション確認（隠す）
7. 演技する
8. 視聴者のコメントを見る
9. 正解を選択して発表
```

### 通常のマルチプレイ
```
プレイヤーの操作:
1. デマーシア → LOL/VALORANT選択
2. 「ルームを作成」をクリック
3. プレイヤー名入力
4. ルーム作成
   → 友達を招待
```

## ⚠️ 重要な注意事項

### UI変更の影響
- ソロプレイはホーム画面から直接アクセス
- ルーム作成フォームはマルチプレイ専用に
- プレイヤー名入力は不要（ソロプレイ）

### データ互換性
- 既存のルームには影響なし
- ソロプレイは完全に独立した機能

## 🚀 アップグレード手順

### 自動アップグレード
1. ページをリロード（Ctrl/Cmd + Shift + R）
2. バージョン 1.0.20 が自動的に適用されます
3. キャッシュが自動クリアされます

### 手動確認
```javascript
// ブラウザのコンソールで実行
getAppVersion() // → "1.0.20" が返されることを確認
```

## 🔍 既知の問題

なし

## 📝 今後の予定

### v1.0.21 (予定)
- [ ] ソロプレイモードの統計機能
- [ ] 連続プレイ時のスコア表示
- [ ] セリフのお気に入り機能

### 将来のアップデート
- [ ] 配信用オーバーレイ
- [ ] カスタムセリフ作成機能
- [ ] リプレイ機能

## 📚 関連ドキュメント

- `README.md` - プロジェクト全体の説明
- `RELEASE_NOTES_v1.0.19.md` - 前回のリリース
- `DEMACIA_VOTING_SYSTEM.md` - デマーシア投票システム

## 🎯 統計

### コード変更
- **追加**: 23行
- **削除**: 26行
- **変更**: 4ファイル
- **合計差分**: -3行（コード削減）

### 影響範囲
- **UI配置**: 大幅改善 ✅
- **ユーザビリティ**: 向上 ✅
- **操作性**: 2クリックに短縮 ✅
- **コード品質**: シンプル化 ✅

## 👥 貢献者

- AI Assistant (実装)
- ユーザーフィードバック (UI改善要望)

## 🙏 謝辞

ソロプレイモードのUI改善要望をいただいたユーザーの皆様に感謝いたします。
配信者にとってより使いやすい機能になりました。

---

**バージョン**: v1.0.20  
**リリース日**: 2026-02-15  
**ステータス**: 安定版 ✅  
**推奨アクション**: 即座にアップグレード
