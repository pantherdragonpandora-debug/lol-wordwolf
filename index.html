<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>LOL ワードウルフ</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <!-- ヘッダー -->
    <header>
        <div class="header-content">
            <h1>🎮 LOL ワードウルフ</h1>
            <div id="connection-status" class="connection-status">接続中...</div>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main>
        <!-- ホーム画面 -->
        <div id="home-screen" class="screen">
            <div class="card">
                <h2>League of Legends<br>ワードウルフゲーム</h2>
                <button id="create-room-btn" class="btn-primary btn-full-width">ルームを作成</button>
                <button id="join-room-btn" class="btn-secondary btn-full-width">ルームに参加</button>
                <button id="rules-btn" class="btn-secondary btn-full-width">ルール説明</button>
            </div>
        </div>

        <!-- ルーム作成画面 -->
        <div id="create-screen" class="screen">
            <div class="card">
                <h2>ルーム作成</h2>
                
                <div class="form-group">
                    <label for="create-player-name">プレイヤー名</label>
                    <input type="text" id="create-player-name" placeholder="名前を入力" maxlength="20">
                </div>
                
                <div class="form-group">
                    <label for="player-count">プレイ人数</label>
                    <select id="player-count">
                        <option value="3">3人</option>
                        <option value="4" selected>4人</option>
                        <option value="5">5人</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="timer">討論時間（分）</label>
                    <select id="timer">
                        <option value="3">3分</option>
                        <option value="5" selected>5分</option>
                        <option value="7">7分</option>
                        <option value="10">10分</option>
                        <option value="15">15分</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>お題カテゴリー</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" name="category" value="champions" id="cat-champions" checked>
                            <label for="cat-champions">チャンピオン</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="category" value="items" id="cat-items" checked>
                            <label for="cat-items">アイテム</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="category" value="skills" id="cat-skills" checked>
                            <label for="cat-skills">スキル・能力</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="category" value="map" id="cat-map" checked>
                            <label for="cat-map">マップ・レーン</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" name="category" value="spells" id="cat-spells" checked>
                            <label for="cat-spells">スペル</label>
                        </div>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="start-create-btn" class="btn-primary">作成</button>
                    <button id="back-from-create-btn" class="btn-secondary">戻る</button>
                </div>
            </div>
        </div>

        <!-- ルーム参加画面 -->
        <div id="join-screen" class="screen">
            <div class="card">
                <h2>ルームに参加</h2>
                
                <div class="form-group">
                    <label for="join-room-id">ルームID</label>
                    <input type="text" id="join-room-id" placeholder="6桁のルームID" maxlength="6">
                </div>
                
                <div class="form-group">
                    <label for="join-player-name">プレイヤー名</label>
                    <input type="text" id="join-player-name" placeholder="名前を入力" maxlength="20">
                </div>
                
                <div class="button-group">
                    <button id="start-join-btn" class="btn-primary">参加</button>
                    <button id="back-from-join-btn" class="btn-secondary">戻る</button>
                </div>
            </div>
        </div>

        <!-- 待機室画面 -->
        <div id="waiting-screen" class="screen">
            <div class="card">
                <h2>待機室</h2>
                
                <div class="room-info">
                    <div class="room-id">ルームID: <span id="room-id-display">------</span></div>
                    <div class="room-url" id="room-url-display"></div>
                    <button id="copy-room-url-btn" class="btn-secondary btn-full-width">URLをコピー</button>
                </div>
                
                <div class="form-group">
                    <label>参加プレイヤー</label>
                    <div id="players-list" class="players-list"></div>
                </div>
                
                <div class="button-group">
                    <button id="start-game-btn" class="btn-primary" style="display: none;">ゲーム開始</button>
                    <button id="leave-room-btn" class="btn-danger">退出</button>
                </div>
            </div>
        </div>

        <!-- ゲーム画面 -->
        <div id="game-screen" class="screen">
            <div class="card">
                <h2>討論タイム</h2>
                
                <div class="timer">
                    <div class="timer-display" id="timer-display">00:00</div>
                </div>
                
                <div class="topic-display">
                    <div class="topic-text" id="your-topic">-</div>
                    <div id="your-role" class="role-citizen">あなたは市民です</div>
                </div>
                
                <div class="chat-container">
                    <div id="chat-messages" class="chat-messages"></div>
                    <div class="chat-input-group">
                        <input type="text" id="chat-input" placeholder="メッセージを入力..." maxlength="100">
                        <button id="send-message-btn" class="btn-primary">送信</button>
                    </div>
                </div>
                
                <button id="end-discussion-btn" class="btn-primary btn-full-width">投票へ進む</button>
            </div>
        </div>

        <!-- 投票画面 -->
        <div id="voting-screen" class="screen">
            <div class="card">
                <h2>投票タイム</h2>
                
                <p style="text-align: center; margin-bottom: 1.5rem; color: var(--lol-text);">
                    誰がウルフだと思いますか？
                </p>
                
                <div id="vote-options" class="vote-options"></div>
                
                <button id="confirm-vote-btn" class="btn-primary btn-full-width">投票確定</button>
            </div>
        </div>

        <!-- 結果画面 -->
        <div id="result-screen" class="screen">
            <div class="card">
                <h2 id="result-title" class="result-title">結果発表</h2>
                
                <div class="result-info">
                    <p id="wolf-reveal">ウルフは ？ でした</p>
                    <p id="voted-out">追放されたのは ？ です</p>
                    
                    <div style="margin-top: 1.5rem;">
                        <label style="color: var(--lol-gold); margin-bottom: 0.5rem;">投票結果</label>
                        <div id="vote-results"></div>
                    </div>
                </div>
                
                <div class="button-group">
                    <button id="play-again-btn" class="btn-primary">もう一度</button>
                    <button id="back-to-home-btn" class="btn-secondary">ホームへ</button>
                </div>
            </div>
        </div>
    </main>

    <!-- JavaScript -->
    <script src="./js/firebase-config.js"></script>
    <script src="./js/data.js"></script>
    <script src="./js/game.js"></script>
    <script src="./js/main.js"></script>
</body>
</html>
