# 固定ホームボタン多言語対応修正 (v35)

## 📋 報告された問題
「どこからでもスタートに戻れるようにスタート画面に戻るボタンを作ってもらったけど、そのボタンの表示内容が多言語対応できていないよ。」

## 🔍 原因
固定位置表示されるホームボタン（`btn-home-fixed`）に `data-i18n` 属性が付いていなかったため、言語を切り替えても日本語のまま「🏠 スタート画面に戻る」と表示されていました。

## ✅ 修正内容

### 1. 翻訳キーの追加（全言語）
`js/i18n.js`に以下のキーを追加（日本語版は既に存在していたため、英語・韓国語・中国語を追加）：

```javascript
// 英語 (en)
'header.backToStart': 'Back to Start',

// 韓国語 (ko)
'header.backToStart': '시작 화면으로 돌아가기',

// 中国語 (zh)
'header.backToStart': '返回开始画面',

// 日本語 (ja) - 既存
'header.backToStart': 'スタート画面に戻る',
```

### 2. HTMLボタンへの属性追加
`index.html` の固定ホームボタンに `data-i18n` 属性を追加：

**変更前:**
```html
<button id="btn-home-fixed" class="btn-home-fixed" style="display: none;" onclick="goToStart()">
    🏠 スタート画面に戻る
</button>
```

**変更後:**
```html
<button id="btn-home-fixed" class="btn-home-fixed" style="display: none;" onclick="goToStart()">
    <span data-i18n="header.backToStart">🏠 スタート画面に戻る</span>
</button>
```

## 📊 対応言語
| 言語 | 表示テキスト |
|------|-------------|
| 日本語 (ja) | 🏠 スタート画面に戻る |
| 英語 (en) | 🏠 Back to Start |
| 韓国語 (ko) | 🏠 시작 화면으로 돌아가기 |
| 中国語 (zh) | 🏠 返回开始画面 |

## 🔧 変更ファイル
- `js/i18n.js` (+3行、英語・韓国語・中国語の翻訳追加)
- `index.html` (固定ボタンに `data-i18n` 属性追加、v34→v35)

## 🧪 テスト手順
1. **完全リロード**: Ctrl+Shift+R (Mac: Cmd+Shift+R)
2. **ボタン表示確認**: 画面下部の固定ボタンが表示されているか確認
3. **言語切替テスト**:
   - 右上の「EN」をクリック → ボタンが「🏠 Back to Start」に変化
   - 「KO」をクリック → ボタンが「🏠 시작 화면으로 돌아가기」に変化
   - 「ZH」をクリック → ボタンが「🏠 返回开始画面」に変化
   - 「JA」をクリック → ボタンが「🏠 スタート画面に戻る」に変化
4. **機能確認**: 各言語でボタンをクリックして、正しくスタート画面に戻るか確認

## ✨ 結果
固定ホームボタンが4言語すべてに対応し、言語切替時にリアルタイムで表示が変更されるようになりました。

## 📝 技術詳細
- `updatePageLanguage()` 関数が `data-i18n` 属性を持つすべての要素を検索し、`textContent` を翻訳テキストに置き換えます
- `<span>` で囲むことで、絵文字（🏠）と翻訳テキストを分離し、翻訳テキストのみが置換されます
- これにより、絵文字はそのままで、テキスト部分のみが言語に応じて変わります

## 🎯 次のステップ
1. プレビューで完全リロード (Ctrl+Shift+R)
2. 上記のテスト手順を実施
3. 問題があればコンソールログを報告

---
**修正日**: 2026-02-17  
**バージョン**: v35  
**関連ファイル**: `js/i18n.js`, `index.html`
