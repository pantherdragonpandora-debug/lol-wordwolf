# 🎉 v1.0.11 リリースノート

## 📅 リリース日
2026年2月14日

## 🐛 修正内容

### 【重要】デマーシア表示不具合の修正

「デマーシアに心を込めて」モードで、セリフとシチュエーションが正しく表示されない重大なバグを修正しました。

#### 修正された問題
1. ✅ シチュエーションが「[Object Object]」と表示される
2. ✅ セリフが表示されない
3. ✅ 難易度が正しく表示されない

#### 影響範囲
- デマーシアモード全体（LOL、VALORANT両方）
- 演技画面、投票画面、結果画面

#### 技術的な修正内容
- `js/main.js` の 7箇所を修正
  - `currentPhrase.phrase` → `currentPhrase.text`（4箇所）
  - `situations[index]` → `situations[index].text`（3箇所）
- データ構造の整合性を確保

#### 詳細ドキュメント
修正の詳細は `DEMACIA_DISPLAY_FIX.md` を参照してください。

## 📦 更新ファイル

### 修正済みファイル
| ファイル | 変更内容 | 重要度 |
|---------|---------|-------|
| `js/main.js` | デマーシア表示ロジック修正 | ⭐⭐⭐ |
| `js/version.js` | バージョン番号を1.0.11に更新 | ⭐⭐ |
| `index.html` | クエリパラメータを v=11 に更新 | ⭐⭐ |
| `README.md` | トラブルシューティング追加 | ⭐ |

### 新規ファイル
| ファイル | 説明 |
|---------|------|
| `DEMACIA_DISPLAY_FIX.md` | 修正内容の詳細ドキュメント |
| `RELEASE_NOTES_v1.0.11.md` | このファイル |

## 🔧 キャッシュクリアについて

このバージョンでは、**自動キャッシュクリア機能**が動作します。

### 自動処理の流れ
1. ユーザーがサイトにアクセス
2. `js/version.js` がバージョンをチェック
3. 旧バージョン（1.0.10以前）を検出
4. 自動的にキャッシュをクリア
5. 新バージョン（1.0.11）を読み込み
6. 通知を表示: **「🎉 アップデート完了！ v1.0.11」**

### 手動でキャッシュをクリアする場合
万が一、自動クリアが動作しない場合：

1. **スーパーリロード**
   - Windows/Linux: `Ctrl + Shift + R`
   - Mac: `Cmd + Shift + R`

2. **ブラウザのキャッシュクリア**
   - Chrome: 設定 → プライバシーとセキュリティ → 閲覧履歴データの削除
   - Firefox: オプション → プライバシーとセキュリティ → データを消去
   - Safari: 開発 → キャッシュを空にする

3. **コンソールから手動実行**
   ```javascript
   clearAppCache().then(() => location.reload(true));
   ```

## ✅ テスト済み項目

### デマーシアモード
- [x] セリフが正しく表示される
- [x] シチュエーションが正しく表示される（「[Object Object]」が表示されない）
- [x] 難易度が正しく表示される
- [x] 投票選択肢が正しく表示される
- [x] 結果画面で正解シチュエーションが正しく表示される
- [x] LOL/VALORANT両方で動作する
- [x] 多言語（日/英/韓/中）すべてで正常

### ワードウルフモード
- [x] 既存機能に影響なし
- [x] LOL/VALORANT/TFT すべて正常
- [x] ルーム作成・参加が正常
- [x] チャット機能が正常
- [x] 投票機能が正常

### その他
- [x] キャッシュクリアが自動で動作
- [x] バージョン通知が表示される
- [x] 言語設定が保持される

## 📊 動作確認環境

| ブラウザ | バージョン | 動作 |
|---------|-----------|------|
| Chrome | 131+ | ✅ |
| Firefox | 133+ | ✅ |
| Safari | 17+ | ✅ |
| Edge | 131+ | ✅ |

| デバイス | OS | 動作 |
|---------|-----|------|
| PC | Windows 11 | ✅ |
| PC | macOS | ✅ |
| スマホ | iOS 17+ | ✅ |
| スマホ | Android 13+ | ✅ |
| タブレット | iPad | ✅ |

## 🚀 デプロイ手順

### GitHub Pages の場合
```bash
git add .
git commit -m "v1.0.11: デマーシア表示不具合修正"
git push origin main
```

### 確認方法
1. デプロイ後、1-2分待つ
2. サイトにアクセス
3. コンソール（F12）で確認:
   ```
   🔄 新バージョンが検出されました
   📦 旧バージョン: 1.0.10 → 新バージョン: 1.0.11
   🧹 キャッシュをクリアしています...
   ✅ キャッシュクリア完了
   ```
4. 画面右上に通知が表示される: **「🎉 アップデート完了！ v1.0.11」**

## 🐛 既知の問題

現時点で既知の問題はありません。

## 📝 次のバージョン予定

### v1.0.12（予定）
- [ ] デマーシアモードのUI改善
- [ ] 追加のシチュエーション（各ゲーム10個追加予定）
- [ ] パフォーマンス最適化

### 将来のバージョン
- [ ] ランキングシステム
- [ ] カスタムルーム設定
- [ ] チーム戦モード

## 🙏 謝辞

このバージョンは、ユーザーの皆様からのフィードバックをもとに改善されました。
不具合報告をいただき、ありがとうございました！

## 📞 お問い合わせ

問題が発生した場合：
1. `TROUBLESHOOTING.md` を確認
2. `DEMACIA_DISPLAY_FIX.md` を確認
3. コンソールログを確認（F12キー）
4. GitHubのIssueで報告

---

**Esports ワードウルフ開発チーム**
2026年2月14日
